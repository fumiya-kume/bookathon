---
name: technical-writing
description: 技術書のアウトライン作成支援・文章レビュー・校正を行うスキル。
---

# 技術書アウトライン・校正スキル

Re:VIEW 形式の技術書執筆プロジェクトで使用する。

## 使い方

このスキルが呼び出されたら、ユーザーの指示に応じて以下のいずれかを実行：

1. **アウトライン作成**: 新しい章・節のアウトライン（見出し構成）を提案する
2. **レビュー・校正**: 既存の .re ファイルを読み取り、ガイドラインに沿ってレビュー・校正提案を行う

以下のルールに従って作業する。

---

# アウトライン構成のルール

- 見出しだけ読んでも全体像がわかる設計にする
- 「概念→詳細」の階層構造で組み立てる
- 読者層に応じた段階的な構成にする
- アウトライン段階で十分に詳細化する。本文執筆前にアウトラインを固めることで進行がスムーズになる
- 各セクションは1つの主要概念に焦点を当てる

# 見出しのルール

- 見出しはセクションの主題を説明する。単なるラベルにしない
- 見出しだけで内容概要が理解できるようにする
- 表面的な見出し（例:「Xについて」「Yとは」）は避ける。著者の知見が伝わる具体的な見出しにする
- 下位階層ほど見出し数が多くなる傾向を考慮し、バランスを取る

# 文章のルール

## 語順
- 長い修飾語は前に、短い修飾語は後に配置する
- 語順が通常と逆になる場合は、読点を打って可読性を確保する

## 冗長表現の排除
以下のような冗長な表現は簡潔にする:
- 「〜してしまう」→「〜する」
- 「〜してしまい」→「〜し」
- 「〜してしまった」→「〜した」
- 不要な「〜という」→ 削除または「〜な」に置き換え

## 指示代名詞
- 「これ」「それ」「あれ」などの指示代名詞の多用を避ける
- 何を指しているか不明確になるため、可能な限り具体名詞を使う

## 用語の説明
- 重要でない用語でも簡潔に説明する。読者が「なんとなくわかる」状態を作る
- 「この用語まで説明する」というラインを対象読者とゴールに応じて決める

## 表現の統一
- 専門用語の呼称を統一する（同じ概念に異なる用語を使わない）
- 体言止めと用言止めを混在させない
- 不要な副詞・修飾語を削除し、強調効果を保つ（過度な副詞は強調効果を減弱させる）

# 校正チェックリスト

レビュー時は以下の観点で確認する:

- [ ] 読点の配置は適切か
- [ ] 用語選択は文書全体で統一されているか
- [ ] 表現の統一性は保たれているか（体言止め/用言止め、敬体/常体）
- [ ] 冗長な表現はないか（「〜してしまう」「不要な〜という」等）
- [ ] 指示代名詞が多用されていないか
- [ ] 見出しだけ読んで全体像が把握できるか
- [ ] 各段落は1つの主要概念に焦点を当てているか
- [ ] 専門用語の初出時に説明があるか

# Re:VIEW 書式ガイド

## 見出し階層

```
= 章タイトル（第1階層） ← 各 .re ファイルに1つだけ
== 節タイトル（第2階層）
=== 項タイトル（第3階層）
==== 小項タイトル（第4階層）
```

特殊な見出しオプション:
```
===[notoc] 目次に載せない見出し
===[nonum] 番号なし見出し（目次には載る）
===[nodisp] 表示しない見出し（目次には載る）
```

使用例（本プロジェクト）:
```
===[notoc] 著者紹介       ← あとがきの著者紹介に使用
```

## catalog.yml での章構成

```yaml
PREDEF:
  - 00-preface.re    # まえがき

CHAPS:
  - 01-chapter.re    # 本文の章

APPENDIX:
  - 91-appendix.re   # 付録

POSTDEF:
  - 99-postface.re   # あとがき
```

部（Part）を使う場合:
```yaml
CHAPS:
  - 初級編:
      - 01-basic.re
      - 02-tutorial.re
  - 中級編:
      - 03-advanced.re
```

## リード文（章の導入文）

章の冒頭に配置する導入テキスト。イタリック体で表示される。

```
= 章タイトル

//lead{
この章では〜について語ります。
//}
```

本プロジェクトでは全章（01〜04、91）で使用している。

## 空行（blankline）

段落間に意図的な空行を入れる。対話パートと地の文の切り替えに多用する。

```
@<b>{Kuu}：対話パートのセリフです。

//blankline

ここから地の文が始まる。通常の段落テキスト。
```

注意: Re:VIEW では空行だけでは空行として出力されない。明示的に `//blankline` と記述する。

## インライン要素

### テキスト装飾

| 書式 | 用途 | 例 |
|------|------|-----|
| `@<b>{text}` | 太字 | `@<b>{重要}` |
| `@<i>{text}` | イタリック | `@<i>{emphasis}` |
| `@<tt>{text}` | 等幅フォント | `@<tt>{monospace}` |
| `@<em>{text}` | 強調 | `@<em>{強調テキスト}` |
| `@<strong>{text}` | より強い強調 | `@<strong>{最重要}` |
| `@<u>{text}` | 下線 | `@<u>{下線テキスト}` |
| `@<ami>{text}` | 網掛け | `@<ami>{網掛け}` |

### コード・技術表記

| 書式 | 用途 | 例 |
|------|------|-----|
| `@<code>{text}` | インラインコード | `@<code>{puts "hello"}` |
| `@<kw>{term}` | キーワード（索引登録あり） | `@<kw>{API}` |
| `@<kw>{term, alt}` | キーワード＋別名 | `@<kw>{REST, RESTful API}` |

### 参照・リンク

| 書式 | 用途 | 例 |
|------|------|-----|
| `@<chapref>{id}` | 章への参照（「第N章 タイトル」と展開） | `@<chapref>{04-ai-tips-in-practice}` |
| `@<chap>{id}` | 章番号のみ参照 | `@<chap>{01-ai-native-mindset}` |
| `@<title>{id}` | 章タイトルのみ参照 | `@<title>{02-idea-and-expression}` |
| `@<hd>{id}` | 節・項への参照 | `@<hd>{section-id}` |
| `@<href>{url}` | ハイパーリンク | `@<href>{https://example.com}` |
| `@<href>{url, text}` | テキスト付きリンク | `@<href>{https://example.com, 公式サイト}` |
| `@<fn>{id}` | 脚注参照 | `@<fn>{note1}` |
| `@<img>{id}` | 画像参照 | `@<img>{figure1}` |
| `@<list>{id}` | リスト参照 | `@<list>{code1}` |
| `@<table>{id}` | 表参照 | `@<table>{table1}` |
| `@<column>{id}` | コラム参照 | `@<column>{col1}` |

### 章参照の使い分け

```
詳しくは@<chapref>{04-ai-tips-in-practice}で紹介します。
→ 出力: 「詳しくは第4章「AI活用の実践テクニック」で紹介します。」

@<chap>{04-ai-tips-in-practice}を参照。
→ 出力: 「第4章を参照。」
```

参照先のidは .re ファイル名から拡張子を除いたもの。

## ブロック要素

### 画像

```
//image[id][キャプション]{
//}
```

画像ファイルは `images/` ディレクトリに配置。`images/章名-id.png` の命名規則。
本文中で `@<img>{id}` で参照する。

インライン画像（番号なし）:
```
//indepimage[id][キャプション]
```

### プログラムリスト

キャプション・番号付き:
```
//list[id][キャプション][言語]{
def hello
  puts "Hello, World!"
end
//}
```

番号なし:
```
//emlist[キャプション][言語]{
$ npm install
//}
```

キャプションなし:
```
//emlist[][]{
コマンドやコード
//}
```

行番号付き:
```
//listnum[id][キャプション][言語]{
class Foo
  def bar
    puts "baz"
  end
end
//}
```

### 表（テーブル）

```
//table[id][キャプション]{
ヘッダ1	ヘッダ2	ヘッダ3
--------------
セル1	セル2	セル3
セル4	セル5	セル6
//}
```

セル間はタブ文字で区切る。`-` の行がヘッダとボディの区切り。

### 脚注

```
//footnote[id][脚注テキスト。URLや補足情報を記載する]
```

本文中では `@<fn>{id}` で参照する。脚注定義は参照箇所の近くに配置する。

### コラム

```
===[column] コラムタイトル

コラム本文。複数段落も可。

===[/column]
```

使用例（本プロジェクト）:
```
===[column] Lemioの過去プロジェクト紹介──アイデアの種がどう育ったか
過去に取り組んだプロジェクト……
===[/column]
```

コラムにidを付けると `@<column>{id}` で参照可能:
```
===[column]{col-id} コラムタイトル
```

### 囲み記事（アドモニション）

```
//note[キャプション]{
補足情報
//}

//tip[キャプション]{
ヒント・コツ
//}

//info[キャプション]{
情報
//}

//warning[キャプション]{
警告
//}

//caution[キャプション]{
注意
//}

//important[キャプション]{
重要事項
//}
```

### 引用

```
//quote{
引用テキスト
//}
```

### 中央揃え

```
//centering{
中央揃えテキスト
//}
```

## リスト（箇条書き）

### 番号なしリスト

```
 * 項目1
 * 項目2
 ** ネストした項目（`*` を重ねる）
 *** さらにネスト
 * 項目3
```

先頭のスペースが必要。

### 番号付きリスト

```
 1. 項目1
 2. 項目2
 3. 項目3
```

先頭のスペースが必要。

### 説明リスト（用語定義）

```
 : 用語1
    説明文1
 : 用語2
    説明文2
```

使用例（本プロジェクトの著者紹介）:
```
 : Kuu
	久米郁弥。メルカリでAndroidアプリエンジニアとして……
 : Sae
	塗木冴。東京工業大学情報工学科卒。……
```

## 対話形式の書き方（本プロジェクト固有）

本プロジェクトでは対話形式を多用する。以下のパターンに従う。

### 話者名の表記

```
@<b>{Kuu}：セリフの内容をここに書く。
```

- 話者名は `@<b>{}` で太字にする
- 話者名の後ろは全角コロン `：` を使用する
- セリフは敬体（ですます調）でもよい

### 対話と地の文の切り替え

```
@<b>{Kuu}：対話のセリフです。

@<b>{Lemio}：返答のセリフです。

//blankline

ここから地の文。常体（である調）で書く。対話で出たポイントを解説・補足する。

@<b>{Sae}：再び対話に戻る場合はこう書く。
```

- 対話パート→地の文の切り替えには `//blankline` を挟む
- 地の文は常体（である調）で統一する
- 対話パートは敬体（ですます調）で統一する

## エスケープ

Re:VIEW のインライン命令内で特殊文字を使う場合:
```
@<code>{@}       ← @ を含むコード
@<code>{\\}}     ← } を含むコード（バックスラッシュでエスケープ）
@<b>{\\@}        ← @ を含む太字
```

## よくある間違い

- `//blankline` を忘れて対話と地の文が直結する → 読みにくくなる
- `@<chapref>{}` のidにファイル拡張子 `.re` を含める → エラーになる。拡張子なしで指定する
- コラムの `===[/column]` 閉じ忘れ → 以降の本文がコラム内に取り込まれる
- 箇条書きの先頭にスペースがない → リストとして認識されない
- `//list` ブロック内の空行 → 意図しない出力になることがある
