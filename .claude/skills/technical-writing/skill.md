---
name: technical-writing
description: 技術書のアウトライン作成支援・文章レビュー・校正を行うスキル。
---

# 技術書アウトライン・校正スキル

Re:VIEW 形式の技術書執筆プロジェクトで使用する。

## 使い方

このスキルが呼び出されたら、ユーザーの指示に応じて以下のいずれかを実行：

1. **アウトライン作成**: 新しい章・節のアウトライン（見出し構成）を提案する
2. **レビュー・校正**: 既存の .re ファイルを読み取り、ガイドラインに沿ってレビュー・校正提案を行う

以下のルールに従って作業する。

---

# アウトライン構成のルール

- 見出しだけ読んでも全体像がわかる設計にする
- 「概念→詳細」の階層構造で組み立てる
- 読者層に応じた段階的な構成にする
- アウトライン段階で十分に詳細化する。本文執筆前にアウトラインを固めることで進行がスムーズになる
- 各セクションは1つの主要概念に焦点を当てる
- 冒頭に重要なポイントを配置する（逆ピラミッド構成）
- スコープ（扱う範囲）と非スコープ（扱わない範囲）を明示する
- 情報は段階的に提示する。新しい概念を一気にまとめて出さず、認知負荷を少しずつ増やす

## 情報の並べ順

情報は思いついた順や書きやすい順ではなく、以下のパターンから適切なものを選んで並べ替える:

- **時系列**: 操作手順や経緯を説明する場合
- **粒度**: 概要から詳細へ（既知→未知の順序）
- **重要度**: 最も重要なことから順に
- **読者のタイミング**: 読者がその情報を必要とする場面の順（例: セットアップ→基本操作→トラブルシューティング）

## トピックの3部品構成

文章の塊（トピック）は以下の3つの部品で構成する:

1. **タイトル（見出し）**: 話題を限定し、読者が読むべきか判断できるようにする
2. **概要（リード文）**: トピック全体の要約。読者が詳細を読むか判断する助けになる
3. **本文**: 詳細な説明。既知→未知の順で展開する

# 見出しのルール

- 見出しはセクションの主題を説明する。単なるラベルにしない
- 見出しだけで内容概要が理解できるようにする
- 表面的な見出し（例:「Xについて」「Yとは」）は避ける。著者の知見が伝わる具体的な見出しにする
- 下位階層ほど見出し数が多くなる傾向を考慮し、バランスを取る
- 前後の見出しと区別できるタイトルをつける。読者が目次から目的のセクションを特定できるようにする
- タスクベースの見出しを使う。悪い例:「アカウント作成」→ 良い例:「アカウントを作成する」
- 見出しの下に短い導入文を置き、セクションのコンテキストを提供する

# 文章のルール

## 1文のルール

### 1文1メッセージ
- 1つの文には1つの考え・概念だけを入れる
- 複数の情報を1文に詰め込まない。長文は分割する

### 1文の長さ
- 1文は50文字程度を目安にする
- 文中に「ので」「し」「が」が入っている場合、そこで2文に分割できることが多い
- 接続詞で文をつなげて長くしない

### 主語と述語
- すべての述語に対して主語が明らかになっているか確認する
- 主語と述語の距離を近くする。間に長い修飾語を挟まない
- モヤっとした違和感のある文に出会ったら、まず主語と述語に注目する

### 能動態と受動態
- 能動態を基本にする。能動態は明確で直接的、かつ短い
- 読者のアクション（操作）は能動態で書く:「ボタンをクリックする」
- システムの動作は受動態で書く:「データが保存される」
- 受動態を見つけたら、能動態に変換できないか検討する

### 動詞の選択
- 曖昧な動詞（「する」「行う」「なる」）を避け、具体的で強い動詞を使う
- 悪い例:「設定を行う」→ 良い例:「設定する」
- 悪い例:「確認することができる」→ 良い例:「確認できる」

## 語順
- 長い修飾語は前に、短い修飾語は後に配置する
- 節（述語を含む複文）を先に、句（述語を含まない文節）を後に書く
- 修飾語は被修飾語の直前に配置する（距離を近づける）
- 語順が通常と逆になる場合は、読点を打って可読性を確保する

## 冗長表現の排除
以下のような冗長な表現は簡潔にする:
- 「〜してしまう」→「〜する」
- 「〜してしまい」→「〜し」
- 「〜してしまった」→「〜した」
- 不要な「〜という」→ 削除または「〜な」に置き換え
- 二重否定を避ける。「〜しないわけではない」→ 肯定文に書き換える
- 否定文より肯定文を使う。否定文は全体否定と部分否定の曖昧さがある
- 曖昧な形容詞・副詞は数値に置き換える。「高速」→「200ms以内で応答する」

## 助詞
- 同じ助詞（特に「は」「を」「の」）の連続を避ける。連続すると意味が曖昧になる
- 読点の配置: 長い主語の後、修飾関係を明確にする箇所、語句の連続を区別する箇所

## 指示代名詞
- 「これ」「それ」「あれ」などの指示代名詞の多用を避ける
- 何を指しているか不明確になるため、可能な限り具体名詞を使う
- 校正時は代名詞を見つけるたびに「何を指しているか」を読者視点で確認する

## 段落の構成
- 1段落1トピック。1文で要約できない段落は複数トピックが混在している
- 段落の冒頭にトピックセンテンス（要約文）を置く。読者が「この段落は自分に必要か」を判断できるようにする
- 3〜5文が理想。7文を超える段落は分割を検討する
- 冒頭文だけを拾い読みして文書の流れが掴めるかテストする

## 用語
- 専門用語の呼称を統一する（同じ概念に異なる用語を使わない）
- 略語・頭字語は初出時にフルスペルを書き、直後に括弧で略語を記載する
- 2〜3回しか使わない略語はフルスペルのまま書く
- 重要でない用語でも簡潔に説明する。読者が「なんとなくわかる」状態を作る
- 「この用語まで説明する」というラインを対象読者とゴールに応じて決める

## 表現の統一
- 体言止めと用言止めを混在させない
- 不要な副詞・修飾語を削除し、強調効果を保つ（過度な副詞は強調効果を減弱させる）
- 漢字とひらがなのバランスを調整する。漢字が多すぎると硬い印象を与え読みにくくなる

## リスト・表の使い方
- 長い列挙や並列情報は箇条書き・番号付きリストに変換する
- 順序が重要なら番号付きリスト、順序が無関係なら箇条書き
- リスト項目の並列性（パラレリズム）を保つ。文法構造をすべて統一する
  - 悪い例:「実行する、テスト、検証」→ 良い例:「実行する、テストする、検証する」
- 番号付きリストの各項目は命令動詞で始める
- リストや表の直前に、何を示しているかを説明する導入文を置く

## 図・イラスト
- キャプションを先に書き、それに合う図を作成する。図の目的がブレない
- 1つの図の情報量を制限する。複雑なシステムはサブシステムに分割する
- テキストで説明を書いた上で、テキストだけでは伝わりにくい部分に図を添える

## 読者への配慮
- 対象読者を明示的に定義し、前提知識を明記する
- 「知識の呪い」を自覚する。専門家は無意識に説明を端折る。初心者の視点で読み直す
- 既知の知識と関連付けて説明する。読者がすでに知っているものと比較する
- つまづきやすい点を先制的に提示する。読者が陥りがちな誤りを事前に指摘する
- デメリットや留意点を正直に記載する。万能な技術は存在しない
- 読者のメンタルモデル（頭の中に構築される理解の枠組み）を壊さない。唐突な話題転換をしない

# 校正チェックリスト

## 文レベル
- [ ] 1文が1つのメッセージだけを伝えているか
- [ ] 1文が50文字を大幅に超えていないか
- [ ] すべての述語に主語が対応しているか
- [ ] 主語と述語が離れすぎていないか
- [ ] 受動態が不必要に使われていないか（読者操作→能動態、システム動作→受動態）
- [ ] 曖昧な動詞（「する」「行う」）を具体的な動詞に置き換えられるか
- [ ] 二重否定を使っていないか
- [ ] 同じ助詞が連続していないか
- [ ] 修飾語と被修飾語が近くに配置されているか
- [ ] 読点の配置は適切か

## 用語・表記
- [ ] 用語選択は文書全体で統一されているか
- [ ] 表現の統一性は保たれているか（体言止め/用言止め、敬体/常体）
- [ ] 冗長な表現はないか（「〜してしまう」「不要な〜という」「確認することができる」等）
- [ ] 指示代名詞の指示対象が明確か
- [ ] 専門用語の初出時に説明があるか
- [ ] 略語の初出時にフルスペルが記載されているか
- [ ] 漢字とひらがなのバランスは適切か

## 段落・構造
- [ ] 各段落が1つのトピックだけを扱っているか
- [ ] 段落の冒頭にトピックセンテンスがあるか
- [ ] 見出しだけ読んで全体像が把握できるか
- [ ] 見出しが前後と区別でき、読者が読むべきか判断できるか
- [ ] 情報が既知→未知の順で展開されているか
- [ ] 冒頭で目的・対象読者・前提知識が明示されているか
- [ ] 結論・重要な情報が先に述べられているか

## リスト・図表
- [ ] 長い列挙がリスト形式に変換されているか
- [ ] リスト項目の文法構造が並列になっているか（パラレリズム）
- [ ] リストや表の前に導入文があるか
- [ ] 図のキャプションが簡潔で、読者が何を読み取るべきかを示しているか

## 校正プロセス
- [ ] 声に出して読んで不自然な箇所がないか
- [ ] 時間を置いてから再読したか
- [ ] 同じ内容が複数箇所に重複していないか

# Re:VIEW 書式ガイド

## 見出し階層

```
= 章タイトル（第1階層） ← 各 .re ファイルに1つだけ
== 節タイトル（第2階層）
=== 項タイトル（第3階層）
==== 小項タイトル（第4階層）
```

特殊な見出しオプション:
```
===[notoc] 目次に載せない見出し
===[nonum] 番号なし見出し（目次には載る）
===[nodisp] 表示しない見出し（目次には載る）
```

使用例（本プロジェクト）:
```
===[notoc] 著者紹介       ← あとがきの著者紹介に使用
```

## catalog.yml での章構成

```yaml
PREDEF:
  - 00-preface.re    # まえがき

CHAPS:
  - 01-chapter.re    # 本文の章

APPENDIX:
  - 91-appendix.re   # 付録

POSTDEF:
  - 99-postface.re   # あとがき
```

部（Part）を使う場合:
```yaml
CHAPS:
  - 初級編:
      - 01-basic.re
      - 02-tutorial.re
  - 中級編:
      - 03-advanced.re
```

## リード文（章の導入文）

章の冒頭に配置する導入テキスト。イタリック体で表示される。

```
= 章タイトル

//lead{
この章では〜について語ります。
//}
```

本プロジェクトでは全章（01〜04、91）で使用している。

## 空行（blankline）

段落間に意図的な空行を入れる。対話パートと地の文の切り替えに多用する。

```
@<b>{Kuu}：対話パートのセリフです。

//blankline

ここから地の文が始まる。通常の段落テキスト。
```

注意: Re:VIEW では空行だけでは空行として出力されない。明示的に `//blankline` と記述する。

## インライン要素

### テキスト装飾

| 書式 | 用途 | 例 |
|------|------|-----|
| `@<b>{text}` | 太字 | `@<b>{重要}` |
| `@<i>{text}` | イタリック | `@<i>{emphasis}` |
| `@<tt>{text}` | 等幅フォント | `@<tt>{monospace}` |
| `@<em>{text}` | 強調 | `@<em>{強調テキスト}` |
| `@<strong>{text}` | より強い強調 | `@<strong>{最重要}` |
| `@<u>{text}` | 下線 | `@<u>{下線テキスト}` |
| `@<ami>{text}` | 網掛け | `@<ami>{網掛け}` |

### コード・技術表記

| 書式 | 用途 | 例 |
|------|------|-----|
| `@<code>{text}` | インラインコード | `@<code>{puts "hello"}` |
| `@<kw>{term}` | キーワード（索引登録あり） | `@<kw>{API}` |
| `@<kw>{term, alt}` | キーワード＋別名 | `@<kw>{REST, RESTful API}` |

### 参照・リンク

| 書式 | 用途 | 例 |
|------|------|-----|
| `@<chapref>{id}` | 章への参照（「第N章 タイトル」と展開） | `@<chapref>{04-ai-tips-in-practice}` |
| `@<chap>{id}` | 章番号のみ参照 | `@<chap>{01-ai-native-mindset}` |
| `@<title>{id}` | 章タイトルのみ参照 | `@<title>{02-idea-and-expression}` |
| `@<hd>{id}` | 節・項への参照 | `@<hd>{section-id}` |
| `@<href>{url}` | ハイパーリンク | `@<href>{https://example.com}` |
| `@<href>{url, text}` | テキスト付きリンク | `@<href>{https://example.com, 公式サイト}` |
| `@<fn>{id}` | 脚注参照 | `@<fn>{note1}` |
| `@<img>{id}` | 画像参照 | `@<img>{figure1}` |
| `@<list>{id}` | リスト参照 | `@<list>{code1}` |
| `@<table>{id}` | 表参照 | `@<table>{table1}` |
| `@<column>{id}` | コラム参照 | `@<column>{col1}` |

### 章参照の使い分け

```
詳しくは@<chapref>{04-ai-tips-in-practice}で紹介します。
→ 出力: 「詳しくは第4章「AI活用の実践テクニック」で紹介します。」

@<chap>{04-ai-tips-in-practice}を参照。
→ 出力: 「第4章を参照。」
```

参照先のidは .re ファイル名から拡張子を除いたもの。

## ブロック要素

### 画像

```
//image[id][キャプション]{
//}
```

画像ファイルは `images/` ディレクトリに配置。`images/章名-id.png` の命名規則。
本文中で `@<img>{id}` で参照する。

インライン画像（番号なし）:
```
//indepimage[id][キャプション]
```

### プログラムリスト

キャプション・番号付き:
```
//list[id][キャプション][言語]{
def hello
  puts "Hello, World!"
end
//}
```

番号なし:
```
//emlist[キャプション][言語]{
$ npm install
//}
```

キャプションなし:
```
//emlist[][]{
コマンドやコード
//}
```

行番号付き:
```
//listnum[id][キャプション][言語]{
class Foo
  def bar
    puts "baz"
  end
end
//}
```

### 表（テーブル）

```
//table[id][キャプション]{
ヘッダ1	ヘッダ2	ヘッダ3
--------------
セル1	セル2	セル3
セル4	セル5	セル6
//}
```

セル間はタブ文字で区切る。`-` の行がヘッダとボディの区切り。

### 脚注

```
//footnote[id][脚注テキスト。URLや補足情報を記載する]
```

本文中では `@<fn>{id}` で参照する。脚注定義は参照箇所の近くに配置する。

### コラム

```
===[column] コラムタイトル

コラム本文。複数段落も可。

===[/column]
```

使用例（本プロジェクト）:
```
===[column] Lemioの過去プロジェクト紹介──アイデアの種がどう育ったか
過去に取り組んだプロジェクト……
===[/column]
```

コラムにidを付けると `@<column>{id}` で参照可能:
```
===[column]{col-id} コラムタイトル
```

### 囲み記事（アドモニション）

```
//note[キャプション]{
補足情報
//}

//tip[キャプション]{
ヒント・コツ
//}

//info[キャプション]{
情報
//}

//warning[キャプション]{
警告
//}

//caution[キャプション]{
注意
//}

//important[キャプション]{
重要事項
//}
```

### 引用

```
//quote{
引用テキスト
//}
```

### 中央揃え

```
//centering{
中央揃えテキスト
//}
```

## リスト（箇条書き）

### 番号なしリスト

```
 * 項目1
 * 項目2
 ** ネストした項目（`*` を重ねる）
 *** さらにネスト
 * 項目3
```

先頭のスペースが必要。

### 番号付きリスト

```
 1. 項目1
 2. 項目2
 3. 項目3
```

先頭のスペースが必要。

### 説明リスト（用語定義）

```
 : 用語1
    説明文1
 : 用語2
    説明文2
```

使用例（本プロジェクトの著者紹介）:
```
 : Kuu
	久米郁弥。メルカリでAndroidアプリエンジニアとして……
 : Sae
	塗木冴。東京工業大学情報工学科卒。……
```

## 対話形式の書き方（本プロジェクト固有）

本プロジェクトでは対話形式を多用する。以下のパターンに従う。

### 話者名の表記

```
@<b>{Kuu}：セリフの内容をここに書く。
```

- 話者名は `@<b>{}` で太字にする
- 話者名の後ろは全角コロン `：` を使用する
- セリフは敬体（ですます調）でもよい

### 対話と地の文の切り替え

```
@<b>{Kuu}：対話のセリフです。

@<b>{Lemio}：返答のセリフです。

//blankline

ここから地の文。常体（である調）で書く。対話で出たポイントを解説・補足する。

@<b>{Sae}：再び対話に戻る場合はこう書く。
```

- 対話パート→地の文の切り替えには `//blankline` を挟む
- 地の文は常体（である調）で統一する
- 対話パートは敬体（ですます調）で統一する

## エスケープ

Re:VIEW のインライン命令内で特殊文字を使う場合:
```
@<code>{@}       ← @ を含むコード
@<code>{\\}}     ← } を含むコード（バックスラッシュでエスケープ）
@<b>{\\@}        ← @ を含む太字
```

## よくある間違い

- `//blankline` を忘れて対話と地の文が直結する → 読みにくくなる
- `@<chapref>{}` のidにファイル拡張子 `.re` を含める → エラーになる。拡張子なしで指定する
- コラムの `===[/column]` 閉じ忘れ → 以降の本文がコラム内に取り込まれる
- 箇条書きの先頭にスペースがない → リストとして認識されない
- `//list` ブロック内の空行 → 意図しない出力になることがある
